@model MediCare.Models.Appointment

@{
    ViewData["Title"] = "Update Consultation Notes";
    Layout = "~/Areas/Doctor/Views/Shared/_Layout.cshtml";
}

<div class="max-w-3xl mx-auto bg-white shadow-md rounded-2xl p-8 mt-8">
    <h2 class="text-2xl font-bold text-green-700 mb-4">🩺 Update Consultation Notes</h2>

    <!-- ✅ FORM START -->
    <form asp-action="EditNotes" asp-route-id="@Model.AppointmentId" method="post">
        @Html.AntiForgeryToken()
        <input type="hidden" asp-for="AppointmentId" />

        <!-- Patient Info -->
        <div class="mb-6">
            <label class="block text-gray-700 font-semibold mb-1">Patient</label>
            <p class="text-gray-800">@Model.Patient?.AppUser?.FullName</p>
        </div>

        <!-- Consultation Notes -->
        <div class="mb-6">
            <label asp-for="Notes" class="block text-gray-700 font-semibold mb-1">
                Consultation Notes
            </label>
            <textarea asp-for="Notes"
                      name="Notes"
                      rows="4"
                      class="w-full border border-gray-300 rounded-lg p-3 text-gray-800 focus:outline-none focus:ring-2 focus:ring-green-500"
                      placeholder="Enter consultation notes..."></textarea>
        </div>

        <!-- Prescription -->
        <div class="mb-6">
            <label asp-for="Prescription" class="block text-gray-700 font-semibold mb-1">
                Prescription
            </label>
            <textarea asp-for="Prescription"
                      name="Prescription"
                      rows="4"
                      class="w-full border border-gray-300 rounded-lg p-3 text-gray-800 focus:outline-none focus:ring-2 focus:ring-green-500"
                      placeholder="Enter prescription details..."></textarea>
        </div>

        <!-- Buttons -->
        <div class="flex justify-between items-center mt-8">
            <a asp-area="Doctor"
               asp-controller="Appointments"
               asp-action="Index"
               class="px-5 py-2.5 bg-gray-100 hover:bg-gray-200 text-gray-800 rounded-lg font-medium border border-gray-300 transition">
                ⬅ Back to Appointments
            </a>

            <button type="submit"
                    class="px-5 py-2.5 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium shadow transition">
                💾 Save Changes
            </button>
        </div>
    </form>
    <!-- ✅ FORM END -->
</div>
