@model MediCare.Models.Doctor

@{
    ViewData["Title"] = "Doctor Details";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}

<h2 class="text-2xl font-bold text-gray-700 mb-6">👨‍⚕️ Doctor Details</h2>

<div class="bg-white shadow rounded-2xl p-8 max-w-3xl">
    <dl class="divide-y divide-gray-200">
        <div class="py-3 grid grid-cols-3">
            <dt class="font-semibold text-gray-600">Doctor Name</dt>
            <dd class="col-span-2">@Model.AppUser?.FullName</dd>
        </div>

        <div class="py-3 grid grid-cols-3">
            <dt class="font-semibold text-gray-600">Specialty</dt>
            <dd class="col-span-2">@Model.Specialty?.Name </dd>
        </div>

        <div class="py-3 grid grid-cols-3">
            <dt class="font-semibold text-gray-600">Clinic</dt>
            <dd class="col-span-2">@Model.Clinic?.Name</dd>
        </div>

        <div class="py-3 grid grid-cols-3">
            <dt class="font-semibold text-gray-600">Consultation Fee</dt>
            <dd class="col-span-2">@Model.ConsultationFee.ToString("C")</dd>
        </div>

        <div class="py-3 grid grid-cols-3">
            <dt class="font-semibold text-gray-600">Experience</dt>
            <dd class="col-span-2">
                @(Model.ExperienceYears.HasValue ? $"{Model.ExperienceYears} years" : "—")
            </dd>
        </div>

        <div class="py-3 grid grid-cols-3">
            <dt class="font-semibold text-gray-600">Qualification</dt>
            <dd class="col-span-2">@Model.Qualification </dd>
        </div>

        <div class="py-3 grid grid-cols-3">
            <dt class="font-semibold text-gray-600">Phone Number</dt>
            <dd class="col-span-2">@Model.PhoneNumber </dd>
        </div>

        <div class="py-3 grid grid-cols-3">
            <dt class="font-semibold text-gray-600">Profile Info</dt>
            <dd class="col-span-2">@Model.ProfileInfo </dd>
        </div>

        <!-- 🕒 Availability Schedule -->
        <div class="py-3 grid grid-cols-3">
            <dt class="font-semibold text-gray-600">Availability</dt>
            <dd class="col-span-2">
                @if (Model.Availabilities != null && Model.Availabilities.Any())
                {
                    <ul class="list-disc ml-5 space-y-1">
                        @foreach (var slot in Model.Availabilities.OrderBy(a => a.Day))
                        {
                            <li>
                                <strong>@slot.Day</strong>:
                                @slot.StartTime.ToString(@"hh\:mm") - @slot.EndTime.ToString(@"hh\:mm")
                            </li>
                        }
                    </ul>
                }
                else
                {
                    <span class="text-gray-500">No availability added</span>
                }
            </dd>
        </div>
    </dl>

    <div class="flex justify-between mt-6">
        <a asp-action="Index"
           class="px-5 py-2 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-100 transition">
            ⬅ Back
        </a>

        <a asp-action="Edit" asp-route-id="@Model.DoctorId"
           class="px-6 py-2 bg-gradient-to-r from-blue-600 to-blue-400 text-white font-semibold rounded-xl shadow hover:shadow-lg transition">
            ✏️ Edit
        </a>
    </div>
</div>
